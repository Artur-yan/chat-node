// const user_list = [
// 	'qdcly7dcr7et4bc',
// 	'q8s8zddh1yeflao',
// 	'1jlzacs33euvc3p',
// 	'lxqkg758ikwl65r',
// 	'hfeootg0vyn1ya6',
// 	'xtppe75czusyd3f',
// 	'xgjeqzzbqtr1day',
// 	'gany6cdfobv4gc4',
// 	'vpbsdr5s49muyjk',
// 	'ya0bpe53y7wgpm0',
// 	'ec25cms5ujltyii',
// 	'yuio8wioltoyvmw',
// 	'ouhzx3tjmhbsukw',
// 	'p7sugaqph2egxnz',
// 	'5at3eve47d6wthf',
// 	'87gxdwvq0nn16ye',
// 	'435s3fvadm8y77p',
// 	'fsdhaxn3dc77y1r',
// 	'7edy6793q85il11',
// 	'8mjrdkpww7xcftw',
// 	'nincfvmysflnw1i',
// 	'rij6wzwn765403j',
// 	'vojwj22hjjov395',
// 	'6o093l7b5r6ctu6',
// 	'urwv5za4036k95w',
// 	'qyk877wb9owbxvs',
// 	'0wqyav2fmeaww3v',
// 	'uqnsn6inptkwu2b',
// 	's1tc8w2uvx3iwdh',
// 	'wu14jlqfgxxc4dc',
// 	'9zuxei2gdt41nvo',
// 	'anpvc6gcctt23pa',
// 	'qzw5omab3uu33xt',
// 	'gy4bl7ytqllx15g',
// 	'r846cuq8icrtwdx',
// 	'togvj64apazpkgl',
// 	'k2w6yyycu27pbzc',
// 	'x7ojfcvgsw4ozyl',
// 	'b7sp00cuvqatmd2',
// 	'mn8obnoka05njlx',
// 	'xlmrsber5um0wci',
// 	'3edxrsgf3epxl2o',
// 	'ug8cbi3mj2ouwgw',
// 	'ks1skl9127j2z90',
// 	'axn3091pn747p2v',
// 	'vzwrrcbqxlbvrqn',
// 	'qawtcv2me8zr52q',
// 	'g612ogpmrfomgty',
// 	'qu6227pzwodb04j',
// 	'bzsqv8scwsc5vk6',
// 	'6j4ua9s2wa923b5',
// 	'7glky2ztltjyqm1',
// 	'ylcdh07ga0ckh0d',
// 	'7vos7g5fk0p7og2',
// 	'3ec9qfnlln4t35m',
// 	'zwtycf2kp1452qg',
// 	'1fdptckw3u8b84k',
// 	'1whacqtg5dtevck',
// 	'tmdjvibmt3r1t2v',
// 	'8wkq5czksupvive',
// 	'bx4gymn8n8kb4n8',
// 	'3vgo5i2lakq6yl3',
// 	'7q4wml9vv4b45jb',
// 	'gnzfjq2rr0p348g',
// 	'nmqr2ryjqy6xou7',
// 	'dvo9gsaj9jkzpqe',
// 	'xd43kigdbx03gci',
// 	'courpqb3ve3i06m',
// 	'nvlmc3hfpz0fwlx',
// 	'qpqzofmn7tpwqgf',
// 	'59sqv1lttj0dcng',
// 	'lfncdsf2qhy9hqt',
// 	'l7d0e5vuaov8y3l',
// 	'z2iy4zsxd8lnf9d',
// 	'kje70u7x6uryqg9',
// 	'2ipexgvl9963nbt',
// 	'os17pnwa64132ub',
// 	'2hikhrrp3szs90v',
// 	'wxoankb3gqb2xst',
// 	'to9rmfv6rkmjnfb',
// 	'lai5nu662sqhm2t',
// 	'62vt1l39p014s3k',
// 	'fuasdb42xe54nkq',
// 	'40cppbg7xa8ll9e',
// 	'2b1u2glynuy1fkh',
// 	'a8si6z5wk9a2u5o',
// 	'rp2m7z3i0tebsp2',
// 	'tradlnqer75knol',
// 	'djiovttuhhd8gpf',
// 	'mox448g7ljtit5w',
// 	'8olsdsvsh32f43d',
// 	'y3z0cvjhm75t5v5',
// 	't7w3zgs79l79da4',
// 	'ilzvwg8ha1c3l1j',
// 	'1ne7seytt5m7eki',
// 	'6mxd5276oss2r0x',
// 	'47l79d99k64yava',
// 	's435537e000lwiu',
// 	'sue94746usiwlba',
// 	'6p48heyhd7dqjr5',
// 	'xkrg8fxp66yjpa4',
// 	'0rrjqluebhmwd2g',
// 	'pp2ei2hozb4qiyq',
// 	'ezm9c7nzwv5vdm1',
// 	'okzgjh4g0x2imdt',
// 	'dy3f3vckr5jqbpi',
// 	'0420g50rscnf0ng',
// 	'868fd0y80sffu9s',
// 	'o61vrbyjvr1hkr4',
// 	'197j1zv6y49ixgu',
// 	'2cxzq1z8oy8mf53',
// 	'qpwnmvpz6fldy3u',
// 	'l677gt6nihyl8t4',
// 	'df6h8e46sbgkaq5',
// 	'v5hhm37qdl1bb6z',
// 	'7mehw0ptmadf43x',
// 	'a43f04vzqdqrq3y',
// 	'p84cqbpuw6k6xzz',
// 	'whn1sfwf4v4llw4',
// 	'w24ga8lw6wkbbxs',
// 	'ut3g8em0w0e3o2a',
// 	'199b3ynsvwlex1n',
// 	'ziv84frp7rh4f7s',
// 	'ew5ov6r8t9cmz75',
// 	'e71zns6m48cdzzi',
// 	'kstolh3o651k363',
// 	'wb5lx2qjzcbtju8',
// 	'h77uagp8iy8rxds',
// 	'r0q9dsz3ry8rqfz',
// 	'lm35ac068gv40oe',
// 	'gh4ih4zp3zivwts',
// 	'60zf2hn25lckbdt',
// 	'wirlycdfkyi44mn',
// 	'fcwbrt2tvbiq788',
// 	'y8wucl16q7pycnt',
// 	'w1tk85bx1qc443e',
// 	'4dsn2epky15j74v',
// 	'p8aea9nbo0qacnq',
// 	'5rnj51u5bpw32ug',
// 	'xmq8eo6fyktfayz',
// 	'czy5o453ltc5glg',
// 	'2g8xhvqh991sdut',
// 	'p1j9kv8ou0maxdu',
// 	'LdATb4EZhglJ0uC',
// 	'wHxuznYkcahifMz',
// 	'1miqeknfA9xNWnM',
// 	'WDDfY1JEQiO5NUo',
// 	'1bUlQrkhdPRt3q7',
// 	'HMiBhAp5wzHBeNH',
// 	'0ZUAmAGKeOWA567',
// 	'cqgwl3EMz4scmBD',
// 	'jIb9Rcj9znJAf6O',
// 	'PcS4Pk2s5KhPVxR',
// 	'MS9ke07OpAs7JDB',
// 	'DyU1Emf7bWCcpAf',
// 	'gy8M37ddumqUZBJ',
// 	'h4YUTRNUx2h8GCA',
// 	'GaXze0cb38ykm4Z',
// 	'eyn8Lf55vqwfJXm',
// 	'TlzLUTIchPjtMa8',
// 	'RPWvwGJlzIZlsyg',
// 	'TsAIUDPPDNrhK0G',
// 	'eF8QdxEeZrZRgxW',
// 	'dkaAL7bpDKZ4xdh',
// 	'cjDVVVmzuGGTIyt',
// 	'a3omqjrsQdCK9q5',
// 	'B8CWoe2stvX6BT4',
// 	'TtA3SQdvKC7tdPP'
// ];

import { PrismaClient } from '@prisma/client';
let prismaClient = new PrismaClient();

function sleep(ms) {
	return new Promise((resolve) => setTimeout(resolve, ms));
}

async function tester() {
	try {
		console.log('starting');
		for (let i = 0; i < user_list.length; i++) {
			const userId = user_list[i];
			const user = await prismaClient.authUser.findUnique({
				where: {
					id: userId
				}
			});

			const email = user?.email;
			console.log(userId, email);

			fetch(`${'https://api.dev.chatnode.ai'}/create-stripe-user`, {
				method: 'POST',
				headers: {
					'Content-Type': 'application/json',
					Authorization: `Bearer sk-868f7d2e-9e8c-4a2f-ab70-757c9d04ccfb`
				},
				body: JSON.stringify({
					record: {
						id: userId,
						email: email
					}
				})
			});

			await sleep(5000);
			return;
		}
	} catch (e) {
		console.error(e);
	}
}
tester();
